## åŸé¢˜

> ç»™å®šä¸€ä¸ª **æ²¡æœ‰é‡å¤** æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚
>
> **ç¤ºä¾‹:**
>
> > è¾“å…¥: [1,2,3]
> > è¾“å‡º:
> > [
> >   [1,2,3],
> >   [1,3,2],
> >   [2,1,3],
> >   [2,3,1],
> >   [3,1,2],
> >   [3,2,1]
> > ]
> >
> > æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
> > é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/permutations

## è§£æ³•

### 1. ç›´æ¥è°ƒåº“

C++çš„STLæä¾›äº† **next_permutation()**å’Œ**prev_permutation()**

**next_permutation()ä½œç”¨æ˜¯å¯»æ‰¾æ‰€æœ‰æ¯”å½“å‰æ’åˆ—å¤§çš„æ’åˆ—ï¼Œé¡ºåºæ˜¯ä»å°åˆ°å¤§ã€‚**

**prev_permutation()ä½œç”¨æ˜¯å¯»æ‰¾æ‰€æœ‰æ¯”å½“å‰æ’åˆ—å°çš„æ’åˆ—ï¼Œé¡ºåºæ˜¯ä»å¤§åˆ°å°ã€‚**

````cpp
class Solution {
public:
  vector<vector<int>> permute(vector<int> &nums) {
    sort(nums.begin(), nums.end());
    vector<vector<int>> vec;
    vec.emplace_back(nums);
    while (next_permutation(nums.begin(), nums.end())) {
      vec.emplace_back(nums);
    }
    return vec;
  }
};
````

å½“ç„¶ï¼Œç›´æ¥ç”¨åº“è¿˜æ˜¯ä¸å¤ªå¥½çš„ğŸ™…ã€‚

é¡ºä¾¿æˆ‘ä»¬çœ‹ä¸‹ **next_permutation()** çš„å®ç°ã€‚

````cpp
template<class BidirIt>
bool next_permutation(BidirIt first, BidirIt last)
{
    if (first == last) return false;
    BidirIt i = last;
    if (first == --i) return false;
 
    while (true) {
        BidirIt i1, i2;
 
        i1 = i;
        if (*--i < *i1) {
            i2 = last;
            while (!(*i < *--i2))
                ;
            std::iter_swap(i, i2);
            std::reverse(i1, last);
            return true;
        }
        if (i == first) {
            std::reverse(first, last);
            return false;
        }
    }
}
````

### 2.é€’å½’è§£å†³

ä»¥ ***[1, 2, 3]*** ä¸ºä¾‹ï¼š

ä»¥ ***1*** å¼€å¤´çš„æ’åˆ—ï¼š`[1, 2, 3], [1, 3, 2]`;

ä»¥ ***2***å¼€å¤´çš„æ’åˆ—ï¼š`[2, 1, 3], [2, 3, 1]`;

ä»¥ ***3***å¼€å¤´çš„æ’åˆ—ï¼š`[3, 1, 2], [3, 2, 1]`;

æˆ‘ä»¬å¾—å‡ºè¿™æ ·ä¸€é¢—æ ‘ï¼š

![ç»“æ„](https://imgkr.cn-bj.ufileos.com/edccf46a-aa2a-4897-85d4-e5cc4b0e96bf.png)

æˆ‘ä»¬æ ¹æ®è¿™é¢—æ ‘ï¼Œå¯ä»¥å†™å‡ºå¦‚ä¸‹ä»£ç ï¼š

````cpp
class Solution {
public:
  vector<vector<int>> permute(vector<int> &nums) {
    vector<vector<int>> vec;
    int size = nums.size();
    for (int i = 0; i < size; ++i) {
      for (int j = 0; j < size; ++j) {
        for (int k = 0; k < size; ++k) {
          if (nums[i] != nums[j] && nums[j] != nums[k] && nums[i] != nums[k]) {
            vec.push_back({nums[i], nums[j], nums[k]});
          }
        }
      }
    }
    print(vec);
    return vec;
  }

  void print(vector<vector<int>> &vec) {
    for (decltype(vec.size()) i = 0; i < vec.size(); ++i) {
      for (decltype(i) j = 0; j < vec[i].size(); ++j) {
        cout << vec[i][j] << " ";
      }
      cout << endl;
    }
  }
};
````

å¥½äº†ï¼Œæˆ‘ä»¬è§£å†³äº†æ•°ç»„é•¿åº¦ä¸º **3** çš„å…¨æ’åˆ—ï¼Œæœ‰ä¸‰é‡å¾ªç¯ï¼Œé‚£ä¹ˆå¦‚æœæ•°ç»„é•¿åº¦ä¸º **4ï¼Œ5ï¼Œâ€¦â€¦** ï¼Œåˆè¯¥æ€ä¹ˆåšï¼Ÿå› ä¸ºæ•°ç»„é•¿åº¦æ˜¯ä¸å®šçš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•ä¸èƒ½ç”¨äº†ï¼Œè€Œä¸”ï¼Œä¹Ÿæ²¡äººä¼šå»*å‚»å‚»çš„*å†™è¶…çº§å¤šé‡å¾ªç¯å§ï¼

æˆ‘ä»¬å‘ç°è¿™ä¸ªè¿‡ç¨‹å¥½åƒè·Ÿ **â€œæ·±æœâ€** æŒºç›¸ä¼¼çš„ï¼Œæ²¡é”™ï¼Œå°±æ˜¯ ***dfs*** ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å†™ä¸ª***dfs***ä¸å°±å¥½äº†å—ï¼Ÿ

````cpp
class Solution {
public:
  vector<vector<int>> permute(vector<int> &nums) {
    vector<vector<int>> vec;
    int size = nums.size();
    vector<bool> flag(size, false);
    vector<int> temp;
    recusive(size, nums, temp, vec, flag, 0);
    return vec;
  }

  /**
   * sizeæ˜¯numsçš„é•¿åº¦,
   * tempåšä¸´æ—¶vector, ä¿å­˜æ¯æ¬¡æœç´¢ç»“æŸåå…¨æ’åˆ—çš„ç»“æœ,
   * vecè¿”å›ç»™æµ‹è¯„æœºçš„äºŒç»´vector,
   * flagè®°å½•å½“å‰æœç´¢è¿‡ç¨‹ä¸­è¯¥æ•°æ®æ˜¯å¦ä½¿ç”¨äº†,
   * cntè®°å½•æœç´¢çš„æ·±åº¦ã€‚
   **/
  void recusive(int size, vector<int> &nums, vector<int> &temp,
                vector<vector<int>> &vec, vector<bool> &flag, int cnt) {
    if (cnt == size) {
      vec.emplace_back(temp);
      return;
    }
    for (int i = 0; i < size; ++i) {
      // å¦‚æœæ²¡æœ‰ä½¿ç”¨è¿‡
      if (!flag[i]) {
        temp.emplace_back(nums[i]);
        flag[i] = true;
        // recusiveä¹‹å‰æ˜¯ â€œé€’â€
        recusive(size, nums, temp, vec, flag, cnt + 1);
        // recusiveä¹‹åæ˜¯ â€œå½’â€
        flag[i] = false;
        temp.erase(temp.end() - 1); // å›æº¯
      }
    }
  }
};
````

## æ€»ç»“

çœ‹åˆ°ç½‘ä¸Šçš„ä¸€ç§å†™æ³•ï¼Œå°±æƒ³èµ·äº† **è€å­ã€ŠåŠå­¦ã€‹** ä¸­çš„ä¸€å¥åè¨€ ***æ•…ä¸ç™»é«˜å±±ï¼Œä¸çŸ¥å¤©ä¹‹é«˜ä¹Ÿï¼›ä¸ä¸´æ·±æºªï¼Œä¸çŸ¥åœ°ä¹‹åšä¹Ÿï¼›ä¸é—»å…ˆç‹ä¹‹é—è¨€ï¼Œä¸çŸ¥å­¦é—®ä¹‹å¤§ä¹Ÿã€‚***

é™„å¸¦è§£æ³•ï¼š

````cpp
class Solution {
public:
  vector<vector<int>> permute(vector<int> &nums) {
    vector<vector<int>> res;
    dfs(res, 0, nums);
    return res;
  }
  void dfs(vector<vector<int>> &res, int start, vector<int> &nums) {
    if (start == nums.size()) {
      res.push_back(nums);
      return;
    }
    for (int i = start; i < nums.size(); i++) {
      swap(nums[start], nums[i]);
      dfs(res, start + 1, nums);
      swap(nums[start], nums[i]);
    }
    return;
  }
};
````

æˆ‘è‚¯å®šæ˜¯æƒ³ä¸åˆ°è¿™æ ·å­å†™çš„ğŸ‘€

ä¸æ–­å­¦ä¹ ï¼Œä»»é‡è€Œé“è¿œã€‚

## è¯—æƒ…ç”»æ„

> <center>æ»¡æ±Ÿçº¢Â·å†™æ€€</center>
> <center>å²³é£</center>
> <center>æ€’å‘å†²å† ï¼Œå‡­æ å¤„ï¼Œæ½‡æ½‡é›¨æ­‡ã€‚æŠ¬æœ›çœ¼ï¼Œä»°å¤©é•¿å•¸ï¼Œå£®æ€€æ¿€çƒˆã€‚ä¸‰ååŠŸåå°˜ä¸åœŸï¼Œå…«åƒé‡Œè·¯äº‘å’Œæœˆã€‚è«ç­‰é—²ï¼Œç™½äº†å°‘å¹´å¤´ï¼Œç©ºæ‚²åˆ‡ï¼</center>
> <center>é–åº·è€»ï¼ŒçŠ¹æœªé›ªã€‚è‡£å­æ¨ï¼Œä½•æ—¶ç­ï¼é©¾é•¿è½¦ï¼Œè¸ç ´è´ºå…°å±±é˜™ã€‚å£®å£«é¥¥é¤èƒ¡è™è‚‰ï¼Œç¬‘è°ˆæ¸´é¥®åŒˆå¥´è¡€ã€‚å¾…ä»å¤´ï¼Œæ”¶æ‹¾æ—§å±±æ²³ï¼Œ<br />æœå¤©é˜™ã€‚</center>